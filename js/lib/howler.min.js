/*!
 *  howler.js v1.0.0
 *  howlerjs.com
 *
 *  (c) 2013, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
(function(){var e={};var t=null,n=true;if(typeof AudioContext!=="undefined"){t=new AudioContext}else if(typeof webkitAudioContext!=="undefined"){t=new webkitAudioContext}else{n=false}if(n){var r=t.createGainNode();r.gain.value=1;r.connect(t.destination)}var i=function(){this._volume=1};i.prototype={volume:function(t){var i=this;if(t>=0&&t<=1){i._volume=t;if(n){r.gain.value=t}else{for(var s in e){if(e.hasOwnProperty(s)){for(var o=0;o<e[s]._audioNode.length;o++){e[s]._audioNode[o].volume=e[s]._volume*i._volume}}}}return i}else{if(n){return r.gain.value}else{return i._volume}}},mute:function(){if(n){r.gain.value=0}else{for(var t in e){if(e.hasOwnProperty(t)){for(var i=0;i<e[t]._audioNode.length;i++){e[t]._audioNode[i].volume=0}}}}return self},unmute:function(){var t=this;if(n){r.gain.value=t._volume}else{for(var i in e){if(e.hasOwnProperty(i)){for(var s=0;s<e[i]._audioNode.length;s++){e[i]._audioNode[s].volume=e[i]._volume*t._volume}}}}return t}};window.Howler=new i;var s=new Audio;var o={mp3:!!s.canPlayType("audio/mpeg;").replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!s.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,"")};s=null;var u=window.Howl=function(e){this._autoplay=e.autoplay||false;this._duration=e.duration||0;this._loop=e.loop||false;this._preload=e.preload||"auto";this._sprite=e.sprite||{};this._src=e.src||"";this._pos=e.pos||0;this._volume=e.volume||1;this._urls=e.urls||[];this._onload=e.onload||function(){};this._onend=e.onend||function(){};this._onpause=e.onpause||function(){};this._onendTimer=[];if(!n){this._audioNode=[]}else{this._gainNode=t.createGainNode();this._gainNode.gain.value=this._volume;this._gainNode.connect(r)}this.load()};u.prototype={load:function(){var t=this,r=null;for(var i=0;i<t._urls.length;i++){var s=t._urls[i].toLowerCase().match(/.+\.([^?]+)(\?|$)/)[1],u=false;switch(s){case"mp3":u=o.mp3;break;case"ogg":u=o.ogg;break;case"wav":u=o.wav;break;case"m4a":u=o.m4a;break}if(u===true){r=t._urls[i];break}}if(!r){return}t._src=r;if(n){a(t,r)}else{var f=new Audio;t._audioNode.push(f);f.src=r;f.preload=t._preload;f.volume=t._volume;f.load();f.addEventListener("loadedmetadata",function(){t._duration=f.duration;t.on("load");if(t._autoplay){t.play()}e[r]=t},false)}return t},urls:function(e){var t=this;if(e){t._urls=e;t.stop();t.load();return t}else{return t._urls}},play:function(e){var r=this;if(e&&!r._sprite[e]){return r}var i=e?r._sprite[e][0]/1e3:r._pos,s=e?r._sprite[e][1]/1e3:r._duration-i;var o=Date.now()+"";(function(){var t={id:o,sprite:e};r._onendTimer.push(setTimeout(function(){if(r._loop){r.stop().play(e)}if(!n){r.pause(t.id)}r.on("end")},s*1e3))})();if(n){l(r);r._playStart=t.currentTime;r.bufferSource.noteGrainOn(0,i,s)}else{r.inactiveNode(function(e){e.id=o;e.currentTime=i;e.play()})}return r},pause:function(e){var r=this;if(r._onendTimer[0]){clearTimeout(r._onendTimer[0]);r._onendTimer.splice(0,1)}if(n){if(!r.bufferSource){return r}r._pos+=t.currentTime-r._playStart;r.bufferSource.noteOff(0)}else{var i=e?r.nodeById(e):r.activeNode();if(i){r._pos=i.currentTime;i.pause()}}r.on("pause");return r},stop:function(){var e=this;e._pos=0;if(e._onendTimer[0]){clearTimeout(e._onendTimer[0]);e._onendTimer.splice(0,1)}if(n){if(!e.bufferSource){return e}e.bufferSource.noteOff(0)}else{var t=e.activeNode();if(t){t.pause();t.currentTime=0}}return e},mute:function(){var e=this;if(n){e._gainNode.gain.value=0}else{var t=e.activeNode();if(t){t.volume=0}}return e},unmute:function(){var e=this;if(n){e._gainNode.gain.value=e._volume}else{var t=e.activeNode();if(t){t.volume=e._volume}}return e},volume:function(e){var t=this;if(e>=0&&e<=1){t._volume=e;if(n){t._gainNode.gain.value=e}else{var r=t.activeNode();if(r){r.volume=e*u.volume()}}return t}else{return t._volume}},loop:function(e){var t=this;if(typeof e==="boolean"){t._loop=e;return t}else{return t._loop}},sprite:function(e){var t=this;if(typeof e==="object"){t._sprite=e;return t}else{return t._sprite}},pos:function(e){var r=this;if(n){if(e>=0){r._pos=e;r.pause().play();return r}else{return r._pos+(t.currentTime-r._playStart)}}else{var i=r.activeNode();if(!i){return r}if(e>=0){i.currentTime=e;return r}else{return i.currentTime}}},fadeIn:function(e,t,n){var r=this,i=e,s=i/.01,o=t/s;r.volume(0).play();for(var u=1;u<=s;u++){(function(){var t=r._volume+.01*u,i=e;setTimeout(function(){r.volume(t);if(t===i){if(n)n()}},o*u)})()}return r},fadeOut:function(e,t,n){var r=this,i=r._volume-e,s=i/.01,o=t/s;for(var u=1;u<=s;u++){(function(){var t=r._volume-.01*u,i=e;setTimeout(function(){r.volume(t);if(t===i){if(n)n();r.pause()}},o*u)})()}return r},nodeById:function(e){var t=this,n=null;for(var r=0;r<t._audioNode.length;r++){if(t._audioNode[r].id===e){n=t._audioNode[r];break}}return n},activeNode:function(){var e=this,t=null;for(var n=0;n<e._audioNode.length;n++){if(!e._audioNode[n].paused){t=e._audioNode[n];break}}e.drainPool();return t},inactiveNode:function(e){var t=this,n=null;for(var r=0;r<t._audioNode.length;r++){if(t._audioNode[r].paused){e(t._audioNode[r]);n=true;break}}t.drainPool();if(n){return}t.load();var i=t._audioNode[t._audioNode.length-1];i.addEventListener("loadedmetadata",function(){e(i)})},drainPool:function(){var e=this,t=0,n;for(n=0;n<e._audioNode.length;n++){if(e._audioNode[n].paused){t++}}for(n=0;n<e._audioNode.length;n++){if(t<=5){break}if(e._audioNode[n].paused){t--;e._audioNode.splice(n,1)}}},on:function(e,t){var n=this;if(t){n["_on"+e]=t}else{n["_on"+e].call()}}};if(n){var a=function(n,r){if(r in e){f(n)}else{var i=new XMLHttpRequest;i.open("GET",r,true);i.responseType="arraybuffer";i.onload=function(){t.decodeAudioData(i.response,function(t){if(t){e[r]=t;f(n,t)}})};i.send()}};var f=function(e,t){e._duration=t?t.duration:e._duration;e.on("load");if(e._autoplay){e.play()}};var l=function(n){n.bufferSource=t.createBufferSource();n.bufferSource.buffer=e[n._src];n.bufferSource.connect(n._gainNode);n.bufferSource.loop=n._loop}}})()